<ngx-base-reports
  [messageError]="messageError"
  [title]="title"
  [loading]="loading"
  [exportExcel]="exportExcel"
  [filters]="filters"
  [filtersRequired]="filtersRequired"
>
  <div filters *ngIf="!loading">

    <div class="row">
      <div class="col-sm-12">
        <div class="alert alert-secondary" role="alert">
          Rango de filtro
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold" for="fecha_inicio">
            Fecha inicio*:
          </label>
          <input id="fecha_inicio" nbInput type="date" [(ngModel)]="fechaInicio">
        </div>
      </div>

      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold" for="fecha_fin">
            Fecha fin*:
          </label>
          <input id="fecha_fin" nbInput type="date" [(ngModel)]="fechaFin">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="alert alert-secondary" role="alert">
          Filtros por evento académico
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Curso:
          </label>
          <ngx-autocomplete
            [options]="cursos"
            [(inputModel)]="cursoActual"
            placeholder="Búsqueda por código o descripción del curso, o sede."
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold" for="codigo_grupo">
            Código grupo:
          </label>
          <input id="codigo_grupo" nbInput type="text" [(ngModel)]="codigoGrupo">
        </div>
      </div>

      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Zonas
          </label>
          <ngx-autocomplete
            [options]="zonas"
            [(inputModel)]="zonaActual"
            value="intIdParametroDeFormador"
            label="strNombreParametroDeFormador"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Sede:
          </label>
          <ngx-autocomplete
            [options]="sedes"
            [(inputModel)]="sedeActual"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Programa:
          </label>
          <ngx-autocomplete
            [options]="programas"
            [(inputModel)]="programaActual"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Módulo:
          </label>
          <ngx-autocomplete
            [options]="modulos"
            [(inputModel)]="programaActual"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Coordinador:
          </label>
          <ngx-autocomplete
            [options]="coordinadores"
            [(inputModel)]="coordinadorActual"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Recurso de inversión:
          </label>
          <ngx-autocomplete
            [options]="costos"
            [(inputModel)]="costoActual"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Vigencia:
          </label>
          <ngx-autocomplete
            [options]="vigencias"
            [(inputModel)]="vigenciaActual"
          >
          </ngx-autocomplete>
        </div>
      </div>

    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="alert alert-secondary" role="alert">
          Filtros por datos básicos del participante
        </div>
      </div>
    </div>

    <div class="row">

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Tipo de documento:
          </label>
          <ngx-autocomplete
            [options]="tipoDocumentos"
            [(inputModel)]="tipoDocumentoActual"
            value="ti_id"
            label="ti_nombre"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold" for="numero_documento">
            Número de documento:
          </label>
          <input id="numero_documento" nbInput type="text" [(ngModel)]="numeroDocumento">
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Tipo de participante:
          </label>
          <ngx-autocomplete
            [options]="tipoParticipante"
            [(inputModel)]="tipoParticipanteActual"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold" for="primer_apellido">
            Primer apellido:
          </label>
          <input id="primer_apellido" nbInput type="text" [(ngModel)]="primerApellido">
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold" for="segundo_apellido">
            Segundo apellido:
          </label>
          <input id="segundo_apellido" nbInput type="text" [(ngModel)]="segundoApellido">
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold" for="primer_nombre">
            Primer nombre:
          </label>
          <input id="primer_nombre" nbInput type="text" [(ngModel)]="primerNombre">
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold" for="segundo_nombre">
            Segundo nombre:
          </label>
          <input id="segundo_nombre" nbInput type="text" [(ngModel)]="segundoNombre">
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Género:
          </label>
          <ngx-autocomplete
            [options]="genero"
            [(inputModel)]="generoActual"
          >
          </ngx-autocomplete>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="alert alert-secondary" role="alert">
          Filtros por experiencia laboral
        </div>
      </div>
    </div>

    <div class="row">

      <div class="col-sm-6">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Corporación, Juzgado o Entidad:
          </label>
          <ngx-autocomplete
            [options]="entidades"
            [(inputModel)]="entidadActual"
            value="en_Identidad_pk"
            label="en_nombre_entidad"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Tipo de usuario:
          </label>
          <ngx-autocomplete
            [options]="tipoUsuario"
            [(inputModel)]="tipoUsuarioActual"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Cargo:
          </label>
          <ngx-autocomplete
            [options]="cargos"
            [(inputModel)]="cargoActual"
            value="lc_id"
            label="lc_nombre"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Despacho:
          </label>
          <ngx-autocomplete
            [options]="despachos"
            [(inputModel)]="despachoActual"
            value="id"
            label="nombre"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Especialidad:
          </label>
          <ngx-autocomplete
            [options]="especialidades"
            [(inputModel)]="especialidadActual"
            value="e_idespecialidad"
            label="e_nombreespecialidad"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Consejo seccional:
          </label>
          <ngx-autocomplete
            [options]="concejos"
            [(inputModel)]="concejoActual"
            value="cs_id"
            label="cs_nombre"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Distrito:
          </label>
          <ngx-autocomplete
            [options]="distritos"
            [(inputModel)]="distritoActual"
            value="d_id"
            label="d_nombre"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Circuito:
          </label>
          <ngx-autocomplete
            [options]="circuitos"
            [(inputModel)]="circuitoActual"
            value="ci_id_pk"
            label="ci_nombre"
          >
          </ngx-autocomplete>
        </div>
      </div>

      <div class="col-sm-3">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">
            Ciudad:
          </label>
          <ngx-autocomplete
            [options]="ciudades"
            [(inputModel)]="ciudadActual"
            value="cu_id_pk"
            label="cu_nombre"
          >
          </ngx-autocomplete>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 d-flex justify-content-center">
        <button nbButton status="danger" (click)="SearchResume()"
                [disabled]="!fechaInicio || !fechaFin || loadingResume" [nbSpinner]="loadingResume">
          <nb-icon icon="search-outline"></nb-icon>
          Buscar
        </button>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col-sm-3" *ngFor="let option of columnasOptions">
        <div class="form-group">
          <nb-checkbox status="basic"
                       (checkedChange)="changeCustomColumns($event, option)">{{ option.label }}</nb-checkbox>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="isSearch">
      <div class="col-sm-12">
        <ngx-base-table
          [settings]="settings"
          [showSearch]="false"
          entity="oldsga-reports/participantesMulticriterio"
          customData="participants"
          [queryParams]="getQueryParams()">
          <div actions>
            <div class="actions">
              <a ngxCheckPerms="create" nbButton status="danger" routerLink="/pages/survey/surveys/create">Crear</a>
            </div>
          </div>
        </ngx-base-table>
      </div>
    </div>
  </div>

</ngx-base-reports>
