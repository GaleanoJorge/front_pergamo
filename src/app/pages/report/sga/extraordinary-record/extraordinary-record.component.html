<ngx-base-reports
  [messageError]="messageError"
  [title]="title"
  [loading]="loading"
>
  <div filters *ngIf="!loading">
   
    <div class="row">
    
      <div class="col-sm-6">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">Curso:</label>
          <ngx-autocomplete 
            [options]="courses" 
            [(inputModel)]="course"
            placeholder="Búsqueda por código o descripción del curso, o sede.">
          </ngx-autocomplete>
        </div>
      </div>
    
      <div class="col-sm-6">
        <div class="form-group">
          <label class="form-text text-muted font-weight-bold">Grupo:</label>
          <ngx-autocomplete 
            #groupsAutocomplete 
            [options]="groups" 
            [(inputModel)]="group"
            (inputModelChange)="onSelectionChange($event)"
            [disabled]="!groups.length || loadingGroups"
          >
          </ngx-autocomplete>
          <small class="form-text text-muted" *ngIf="loadingGroups">Cargando grupos.</small>
          <small class="form-text text-muted" *ngIf="course && !groups.length && !loadingGroups">
            No se han encontrado grupos.</small>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12 d-flex justify-content-center">
        <button nbButton status="success" (click)="exportExcelData()" 
          [disabled]="loadingReport" [nbSpinner]="loadingDownload">
          <nb-icon icon="search-outline"></nb-icon>
          Excel
        </button>
      </div>
    </div>

  </div>

</ngx-base-reports>
