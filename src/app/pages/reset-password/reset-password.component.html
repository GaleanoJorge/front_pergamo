<div class="login-container">
  <img src="assets/images/LogoCSJ-FondoOscuro@2x.png" alt="Ramo Judicial Consejo Superior de la Judicatura"
       class="image-left" />
  <img src="assets/images/LogoEJRLB-FondoOscuro@2x.png" alt="Enseñame" class="image-rigth d-none d-md-block" />
  <div class="row text-center">
    <!-- <div class="col-12 space-bottom div-img">
      <img src="assets/images/teachme.png" alt="Enseñame" class="img-fluid img-login">
    </div> -->
    <div class="col-12">
      <h3 class="primary-text" >Software de Gestión Académica</h3>
      <h5 class="primary-text">Cambiar contraseña</h5>
    </div>
  </div>
  <form [formGroup]="loginForm" (ngSubmit)="changePassword()" >
    <small class="form-text text-muted">Nueva contraseña:</small>
    <input type="password" nbInput fullWidth
           status="{{ isSubmitted && loginForm.controls.password.errors ? 'danger' : isSubmitted ? 'success' : '' }}"
           formControlName="password" required password autocomplete="off">
    <div *ngIf="loginForm.controls.password.errors && isSubmitted ">
      <small *ngIf="loginForm.controls.password.errors.required">Ingrese la nueva contraseña</small>
    </div>
    <small class="form-text text-muted">Confirmar nueva contraseña:</small>
    <input type="password" nbInput fullWidth
           status="{{ isSubmitted && loginForm.controls.confirm_password.errors ? 'danger' :  isSubmitted ? 'success' : '' }}"
           formControlName="confirm_password" confirm_password required autocomplete="off">
    <div *ngIf="loginForm.controls.confirm_password.errors && isSubmitted ">
      <small *ngIf="loginForm.controls.confirm_password.errors.required">Ingrese la confirmación de la contraseña</small>
    </div>
    <button type="submit" nbButton fullWidth status="danger">Cambiar contraseña</button>
  </form>
  <div class="row mt-2" *ngIf="messageError">
    <div class="col-12">
      <nb-alert status="danger" class="container-fluid" id="messageError">
        <strong>Oh Dios!</strong>
        <span *ngIf="!messageError.error">{{ messageError }}</span>
        <span *ngIf="messageError.error">{{ messageError.error.message }}</span>

        <ul class="list-errors" *ngIf="this.messageError && this.messageError.error
        && this.messageError.error.data && this.messageError.error.data.errors">
          <li *ngFor="let error of errors">
            {{ error }}
          </li>
        </ul>
      </nb-alert>
    </div>
  </div>
</div>
