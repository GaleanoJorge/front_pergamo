<form [formGroup]="form" (ngSubmit)="save()">
  <div>
    
    <label class="form-text text-muted font-weight-bold align"></label>
    <div class="row">
      <div class="col-md-12">
        <div class="center">
          <fieldset class="field_set">
            <legend class="prue1">FORMULA MEDICA</legend>

            <nb-radio-group formControlName="medical_formula" revision id="medical_formula"
              class="d-flex text" name="medical_formula">
              <nb-radio value="1">FORMULA AMBULATORIA?</nb-radio>
            </nb-radio-group>
          </fieldset>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row justify-content-md-center">
        <div class="col col-lg-12">
          <hr />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-2 ">
        <div class="center">
          <fieldset class="field_set">
            <legend class="prue1">MEDICAMENTO</legend>
            <nb-select [selected]="this.data.product_generic_id" formControlName="product_generic_id"
              id="product_generic_id"
              status="{{ isSubmitted && form.controls.product_generic_id.errors ? 'danger' : isSubmitted ? 'success' : '' }}">
              <nb-option value="">SELECCIONE...</nb-option>
              <nb-option selected="{{ item.id == this.data.product_generic_id }}"
                *ngFor="let item of product_generic_id" [value]="item.id">
                {{ item.description }}</nb-option>
            </nb-select>
          </fieldset>
        </div>
      </div>
      <div class="col-md-2">
        <div class="center">
          <fieldset class="field_set">
            <legend class="prue1">DOSIS</legend>

            <input type="number" placeholder="DOSIS" class="Box" id="dose" formControlName="dose" required nbInput
              ngModel (change)="onChangesFormulation($event, 1)"
              status="{{ isSubmitted && form.controls.dose.errors ? 'danger' : isSubmitted ? 'success' : '' }}">
          </fieldset>
        </div>
      </div>
      <div class="col-md-2">
        <div class="center">
          <fieldset class="field_set">
            <legend class="prue1">VÍA DE ADMIN.</legend>
            <nb-select [selected]="this.data.administration_route_id" formControlName="administration_route_id"
              id="administration_route_id"
              status="{{ isSubmitted && form.controls.administration_route_id.errors ? 'danger' : isSubmitted ? 'success' : '' }}">
              <nb-option value="">SELECCIONE...</nb-option>
              <nb-option selected="{{ item.id == this.data.administration_route_id }}"
                *ngFor="let item of administration_route_id" [value]="item.id">
                {{ item.name }}</nb-option>
            </nb-select>
          </fieldset>
        </div>
      </div>

      <div class="col-md-2 ">
        <div class="center">
          <fieldset class="field_set">
            <legend class="prue1">FRECUENCIA HORARIA</legend>
            <nb-select [selected]="this.data.hourly_frequency_id" formControlName="hourly_frequency_id"
              id="hourly_frequency_id" ngModel (change)="onChangesFormulation($event, 2)"
              status="{{ isSubmitted && form.controls.hourly_frequency_id.errors ? 'danger' : isSubmitted ? 'success' : '' }}">
              <nb-option value="">SELECCIONE...</nb-option>
              <nb-option selected="{{ item.id == this.data.hourly_frequency_id }}"
                *ngFor="let item of hourly_frequency_id" [value]="item.id">
                {{ item.value }}</nb-option>
            </nb-select>
          </fieldset>
        </div>
      </div>

      <div class="col-md-2 ">
        <div class="center">
          <fieldset class="field_set">
            <legend class="prue1">DÍAS DE TRATAMIENTO</legend>
            <input type="number" class="Box" id="treatment_days" formControlName="treatment_days" required nbInput
              ngModel (change)="onChangesFormulation($event, 3)"
              status="{{ isSubmitted && form.controls.treatment_days.errors ? 'danger' : isSubmitted ? 'success' : '' }}">
          </fieldset>
        </div>
      </div>

      <div class="col-md-2 ">
        <div class="center">
          <fieldset class="field_set">
            <legend class="prue1">CANT. SOLIC.</legend>
            <input class="Box" disabled="true" id="outpatient_formulation" formControlName="outpatient_formulation">
          </fieldset>
        </div>
      </div>
    </div>

    <div class="col-md-12">
      <div class="center">
        <fieldset class="field_set">
          <legend class="prue1">OBSERVACIONES</legend>
          <textarea id="observation" nbInput fullWidth formControlName="observation" observation rows="4" cols="50"
            status="{{ isSubmitted && form.controls.observation.errors ? 'danger' : isSubmitted ? 'success' : '' }}"> </textarea>
        </fieldset>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <button nbButton status="danger" class="ml-1 btn-save" [disabled]="disabled" type="submit">GUARDAR</button>
      </div>
    </div>

  </div>
</form>