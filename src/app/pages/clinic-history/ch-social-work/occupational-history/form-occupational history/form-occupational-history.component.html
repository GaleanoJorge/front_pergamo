<form [formGroup]="form" (ngSubmit)="save()">
  <div class="row">
    <div class="col-12">
      <p class="text-muted title-form">Historial ocupacional</p>
    </div>
  </div>

  <div class="row justify-content-md-center">
    <div class="col-md-6">
      <div class="form-group">
        <label class="form-text text-muted font-weight-bold">Actividades que desempeñaba el
          paciente</label>
        <nb-select multiple [selected]="this.data.activities_id" formControlName="ch_activities" id="ch_activities"
        ch_activities fullWidth
          status="{{ isSubmitted && form.controls.ch_activities.errors ? 'danger' : isSubmitted ? 'success' : 'basic' }}"
          placeholder="Seleccione...">
          <nb-option selected="{{ item.id == data.activities_id }}" *ngFor="let item of activities" [value]="item.name">
            {{ item.name }}</nb-option>
        </nb-select>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label class="form-text text-muted font-weight-bold">Ocupación</label>
        <nb-select [selected]="this.data.ch_sw_occupation_id" formControlName="ch_sw_occupation_id" id="ch_sw_occupation_id" ch_sw_occupation_id
          fullWidth
          status="{{ isSubmitted && form.controls.ch_sw_occupation_id.errors ? 'danger' : isSubmitted ? 'success' : 'basic' }}"
          placeholder="Seleccione...">
          <nb-option selected="{{ item.id == data.ch_sw_occupation_id }}" *ngFor="let item of occupation" [value]="item.id">
            {{ item.name }}</nb-option>
        </nb-select>
      </div>
    </div>
    <div class="col-md-6" *ngIf="this.form.controls.ch_sw_occupation_id.value == 1">
      <div class="form-group">
        <label class="form-text text-muted font-weight-bold">Antigüedad en la empresa</label>
        <nb-select [selected]="this.data.ch_sw_seniority_id" formControlName="ch_sw_seniority_id" id="ch_sw_seniority_id" ch_sw_seniority_id
          fullWidth
          status="{{ isSubmitted && form.controls.ch_sw_seniority_id.errors ? 'danger' : isSubmitted ? 'success' : 'basic' }}"
          placeholder="Seleccione...">
          <nb-option selected="{{ item.id == data.ch_sw_seniority_id }}" *ngFor="let item of seniority" [value]="item.id">
            {{ item.name }}</nb-option>
        </nb-select>
      </div>
    </div>
    <div class="col-md-6"  *ngIf="this.form.controls.ch_sw_occupation_id.value == 1 || this.form.controls.ch_sw_occupation_id.value == 2">
      <div class="form-group">
        <label class="form-text text-muted font-weight-bold">Horario de trabajo</label>
        <nb-select [selected]="this.data.ch_sw_hours_id" formControlName="ch_sw_hours_id" id="ch_sw_hours_id" ch_sw_hours_id fullWidth
          status="{{ isSubmitted && form.controls.ch_sw_hours_id.errors ? 'danger' : isSubmitted ? 'success' : 'basic' }}"
          placeholder="Seleccione...">
          <nb-option selected="{{ item.id == data.ch_sw_hours_id }}" *ngFor="let item of hours" [value]="item.id">
            {{ item.name }}</nb-option>
        </nb-select>
      </div>
    </div>
    <div class="col-md-6"  *ngIf="this.form.controls.ch_sw_occupation_id.value == 1 || this.form.controls.ch_sw_occupation_id.value == 2">
      <div class="form-group">
        <label class="form-text text-muted font-weight-bold">Realiza Turnos</label>
        <nb-select [selected]="this.data.ch_sw_turn_id" formControlName="ch_sw_turn_id" id="ch_sw_turn_id" ch_sw_turn_id fullWidth
          status="{{ isSubmitted && form.controls.ch_sw_turn_id.errors ? 'danger' : isSubmitted ? 'success' : 'basic' }}"
          placeholder="Seleccione...">
          <nb-option selected="{{ item.id == data.ch_sw_turn_id }}" *ngFor="let item of turn" [value]="item.id">
            {{ item.name }}</nb-option>
        </nb-select>
      </div>
    </div>

    <div class="col-md-6"  *ngIf="this.form.controls.ch_sw_occupation_id.value == 1 || this.form.controls.ch_sw_occupation_id.value == 2 || this.form.controls.ch_sw_occupation_id.value == 3">
      <div class="form-group">
        <label class="form-text text-muted font-weight-bold text ">OBSERVACIONES</label>
        <textarea id="observations" nbInput fullWidth formControlName="observations" observations
          onpaste="return false"
          status="{{ isSubmitted && form.controls.observations.errors ? 'danger' : isSubmitted ? 'success' : 'basic' }}"> </textarea>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="div-send">
        <button nbButton status="danger" class="ml-1 btn-save" [disabled]="disabled" type="submit">GUARDAR</button>
      </div>
    </div>
  </div>

</form>