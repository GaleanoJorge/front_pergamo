<ngx-base-list [messageError]="messageError" [routes]="routes">
  <div content>

    <ngx-base-table *ngIf="user" [title]="title" [subtitle]="subtitle" [settings]="settings" [entity]="entity"
      customData="management_plan" [messageToltip]="messageToltip">
      <div title *ngIf="user && medical!=1">
        <p class="parrafo" *ngIf="user"><b>IDENTIFICACIÓN:</b> {{user.identification}}</p>
        <p class="parrafo" *ngIf="user"><b>NOMBRE:</b> {{user.nombre_completo}}</p>
        <p class="parrafo" *ngIf="user"><b>FECHA DE NACIMIENTO:</b> {{this.datePipe.transform3(user.birthday)}}</p>
        <p class="parrafo" *ngIf="user"><b>EDAD:</b> {{user.age}}</p>
        <p class="parrafo" *ngIf="user"><b>CELULAR:</b> {{user.phone}}</p>
        <p class="parrafo" *ngIf="user"><b>DIRECCIÓN:</b> {{user.residence_address}}</p>
        <p class="parrafo" *ngIf="user"><b>GÉNERO:</b> {{user.gender.name}}</p>
        <p class="parrafo" *ngIf="user"><b>ASEGURADOR:</b> {{user.admissions[0].contract.company.name}}</p>
        <p class="parrafo" *ngIf="user"><b>CONTRATO:</b> {{user.admissions[0].contract.name}}</p>
        <p class="parrafo" *ngIf="user"><b>PORTAFOLIO:</b> {{user.admissions[0].briefcase.name}}</p>
        <p class="parrafo" *ngIf="admissions1"><b>DIAGNOSTICO:</b> {{admissions1[0].diagnosis.code}} - {{admissions1[0].diagnosis.name}} </p>
        <p class="parrafo" *ngIf="user.inability"><b>DISCAPACIDAD:</b> {{user.inability.name}}</p>
        <p class="parrafo" *ngIf="!user.inability"><b>DISCAPACIDAD:</b> SIN DISCAPACIDADES</p>
      </div>
      <div actions>
        <form [formGroup]="form">
          <div class="actions" style="margin-top: 5px;">
            <button nbButton (click)="back()" >Volver</button>
          </div>
          <div class="actions">
            <div *ngIf="showAnex" class="space" style="margin-right:-5px;">
  
              <button nbButton status="danger" (click)="NewManagementPlan()">Anexar servicios</button>
            </div>
            
          </div>
          <div *ngIf=" this.currentRole.role_type_id == 1" class="actions" style="margin-top: 5px;">
            <button nbButton status="info" (click)="suppliesView()">Suministros</button>
          </div>

          <div class="actions"  *ngIf=" this.currentRole.role_type_id == 1">
            <div class="col-md-6">
              <label for="start_date" class="form-text text-muted font-weight-bold">Fecha de inicio:</label>
              <input type="date" nbInput fullWidth id="start_date" formControlName="start_date" start_date
                status="{{ isSubmitted && form.controls.start_date.errors ? 'danger' : isSubmitted ? 'success' : 'basic' }}" />
            </div>
            <div class="col-md-6">
              <label for="finish_date" class="form-text text-muted font-weight-bold">Fecha de final:</label>
              <input type="date" nbInput fullWidth id="finish_date" formControlName="finish_date" finish_date
                status="{{ isSubmitted && form.controls.finish_date.errors ? 'danger' : isSubmitted ? 'success' : 'basic' }}" />
            </div>
          </div>
        </form>

        
      </div>
    </ngx-base-table>
  </div>


 
</ngx-base-list>